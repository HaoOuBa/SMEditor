(function(){var t;t=function(){var t,e,s,r,i,l,a;class n{constructor(){this.commonWhiteList="kbd|b|i|strong|em|sup|sub|br|code|del|a|hr|small",this.blockHtmlTags="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|address|form|fieldset|iframe|hr|legend|article|section|nav|aside|hgroup|header|footer|figcaption|svg|script|noscript",this.specialWhiteList={table:"table|tbody|thead|tfoot|tr|td|th"},this.hooks={},this.html=!1,this.line=!1,this.blockParsers=[["code",10],["shtml",20],["pre",30],["ahtml",40],["shr",50],["list",60],["math",70],["html",80],["footnote",90],["definition",100],["quote",110],["table",120],["sh",130],["mh",140],["dhr",150],["default",9999]],this.parsers={}}makeHtml(t){var e,s,r,i,l,n;for(this.footnotes=[],this.definitions={},this.holders={},this.uniqid=Math.ceil(1e7*Math.random())+Math.ceil(1e7*Math.random()),this.id=0,this.blockParsers.sort(function(t,e){return t[1]<e[1]?-1:1}),n=this.blockParsers,s=0,r=n.length;s<r;s++)l=n[s],[i]=l,void 0!==l[2]?this.parsers[i]=l[2]:this.parsers[i]=this["parseBlock"+a(i)].bind(this);return t=this.initText(t),e=this.parse(t),e=this.makeFootnotes(e),e=this.optimizeLines(e),this.call("makeHtml",e)}enableHtml(t=!0){this.html=t}enableLine(t=!0){this.line=t}hook(t,e){return null==this.hooks[t]&&(this.hooks[t]=[]),this.hooks[t].push(e)}makeHolder(t){var e;return e="|\r"+this.uniqid+this.id+"\r|",this.id+=1,this.holders[e]=t,e}initText(t){return t.replace(/\t/g,"    ").replace(/\r/g,"").replace(/(\u000A|\u000D|\u2028|\u2029)/g,"\n")}makeFootnotes(t){var e,s;if(this.footnotes.length>0){for(t+='<div class="footnotes"><hr><ol>',e=1;s=this.footnotes.shift();)"string"==typeof s?s+=` <a href="#fnref-${e}" class="footnote-backref">&#8617;</a>`:(s[s.length-1]+=` <a href="#fnref-${e}" class="footnote-backref">&#8617;</a>`,s=s.length>1?this.parse(s.join("\n")):this.parseInline(s[0])),t+=`<li id="fn-${e}">${s}</li>`,e+=1;t+="</ol></div>"}return t}parse(t,e=!1,s=0){var r,i,l,n,h,o,c,p,u,k,m,f,d;for(p=[],i=this.parseBlock(t,p),h="",e&&1===i.length&&"normal"===i[0][0]&&(i[0][3]=!0),o=0,c=i.length;o<c;o++)r=i[o],[f,m,l,d]=r,n=p.slice(m,l+1),u="parse"+a(f),n=this.call("before"+a(u),n,d),k=this[u](n,d,m+s,l+s),k=this.call("after"+a(u),k,d),h+=k;return h}call(t,...e){var s,r,i,l,a;if([a]=e,null==this.hooks[t])return a;for(l=this.hooks[t],r=0,i=l.length;r<i;r++)s=l[r],a=s.apply(this,e),e[0]=a;return a}releaseHolder(s,r=!0){var l;for(l=0;s.indexOf("\r")>=0&&l<10;)s=i(t(this.holders),e(this.holders),s),l+=1;return r&&(this.holders={}),s}markLine(t,e=-1){return this.line?(e=e<0?t:e,'<span class="line" data-start="'+t+'" data-end="'+e+'" data-id="'+this.uniqid+'"></span>'):""}markLines(t,e){var s;return s=-1,this.line?t.map(t=>(s+=1,this.markLine(e+s)+t)):t}optimizeLines(t){var e,s;return e=0,s=new RegExp(`class="line" data\\-start="([0-9]+)" data\\-end="([0-9]+)" (data\\-id="${this.uniqid}")`,"g"),this.line?t.replace(s,function(...t){var s;return s=e!==parseInt(t[1])?'class="line" data-start="'+e+'" data-start-original="'+t[1]+'" data-end="'+t[2]+'" '+t[3]:t[0],e=1+parseInt(t[2]),s}):t}parseInline(t,e="",r=!0,l=!0){return t=this.call("beforeParseInline",t),t=t.replace(/(^|[^\\])(`+)(.+?)\2/gm,(...t)=>t[1]+this.makeHolder("<code>"+s(t[3])+"</code>")),t=t.replace(/(^|[^\\])(\$+)(.+?)\2/gm,(...t)=>t[1]+this.makeHolder(t[2]+s(t[3])+t[2])),t=t.replace(/\\(.)/g,(...t)=>{var e,r;return r=t[1].match(/^[-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]$/)?"":"\\",e=s(t[1]),e=e.replace(/\$/g,"&dollar;"),this.makeHolder(r+e)}),t=t.replace(/<(https?:\/\/.+|(?:mailto:)?[_a-z0-9-\.\+]+@[_\w-]+(?:\.[a-z]{2,})+)>/gi,(...t)=>{var e,s;return s=this.cleanUrl(t[1]),e=this.call("parseLink",s),this.makeHolder(`<a href="${s}">${e}</a>`)}),t=t.replace(/<(\/?)([a-z0-9-]+)(\s+[^>]*)?>/gi,(...t)=>this.html||("|"+this.commonWhiteList+"|"+e+"|").indexOf("|"+t[2].toLowerCase()+"|")>=0?this.makeHolder(t[0]):this.makeHolder(s(t[0]))),this.html&&(t=t.replace(/<!\-\-(.*?)\-\->/g,(...t)=>this.makeHolder(t[0]))),t=i(["<",">"],["&lt;","&gt;"],t),t=t.replace(/\[\^((?:[^\]]|\\\]|\\\[)+?)\]/g,(...t)=>{var e;return e=this.footnotes.indexOf(t[1]),e<0&&(e=this.footnotes.length+1,this.footnotes.push(this.parseInline(t[1],"",!1))),this.makeHolder(`<sup id="fnref-${e}"><a href="#fn-${e}" class="footnote-ref">${e}</a></sup>`)}),t=t.replace(/!\[((?:[^\]]|\\\]|\\\[)*?)\]\(((?:[^\)]|\\\)|\\\()+?)\)/g,(...t)=>{var e,r,i;return e=s(this.escapeBracket(t[1])),i=this.escapeBracket(t[2]),[i,r]=this.cleanUrl(i,!0),r=null==r?e:` title="${r}"`,this.makeHolder(`<img src="${i}" alt="${r}" title="${r}">`)}),t=t.replace(/!\[((?:[^\]]|\\\]|\\\[)*?)\]\[((?:[^\]]|\\\]|\\\[)+?)\]/g,(...t)=>{var e,r;return e=s(this.escapeBracket(t[1])),r=null!=this.definitions[t[2]]?`<img src="${this.definitions[t[2]]}" alt="${e}" title="${e}">`:e,this.makeHolder(r)}),t=t.replace(/\[((?:[^\]]|\\\]|\\\[)+?)\]\(((?:[^\)]|\\\)|\\\()+?)\)/g,(...t)=>{var e,s,r;return e=this.parseInline(this.escapeBracket(t[1]),"",!1,!1),r=this.escapeBracket(t[2]),[r,s]=this.cleanUrl(r,!0),s=null==s?"":` title="${s}"`,this.makeHolder(`<a href="${r}"${s}>${e}</a>`)}),t=t.replace(/\[((?:[^\]]|\\\]|\\\[)+?)\]\[((?:[^\]]|\\\]|\\\[)+?)\]/g,(...t)=>{var e,s;return e=this.parseInline(this.escapeBracket(t[1]),"",!1,!1),s=null!=this.definitions[t[2]]?`<a href="${this.definitions[t[2]]}">${e}</a>`:e,this.makeHolder(s)}),t=this.parseInlineCallback(t),l&&(t=t.replace(/(^|[^\"])(https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\b([-a-zA-Z0-9@:%_\+.~#?&\/=]*)|(?:mailto:)?[_a-z0-9-\.\+]+@[_\w-]+(?:\.[a-z]{2,})+)($|[^\"])/g,(...t)=>{var e,s;return s=this.cleanUrl(t[2]),e=this.call("parseLink",t[2]),`${t[1]}<a href="${s}">${e}</a>${t[5]}`})),t=this.call("afterParseInlineBeforeRelease",t),t=this.releaseHolder(t,r),t=this.call("afterParseInline",t),t}parseInlineCallback(t){return t=t.replace(/(\*{3})((?:.|\r)+?)\1/gm,(...t)=>"<strong><em>"+this.parseInlineCallback(t[2])+"</em></strong>"),t=t.replace(/(\*{2})((?:.|\r)+?)\1/gm,(...t)=>"<strong>"+this.parseInlineCallback(t[2])+"</strong>"),t=t.replace(/(\*)((?:.|\r)+?)\1/gm,(...t)=>"<em>"+this.parseInlineCallback(t[2])+"</em>"),t=t.replace(/(\s+|^)(_{3})((?:.|\r)+?)\2(\s+|$)/gm,(...t)=>t[1]+"<strong><em>"+this.parseInlineCallback(t[3])+"</em></strong>"+t[4]),t=t.replace(/(\s+|^)(_{2})((?:.|\r)+?)\2(\s+|$)/gm,(...t)=>t[1]+"<strong>"+this.parseInlineCallback(t[3])+"</strong>"+t[4]),t=t.replace(/(\s+|^)(_)((?:.|\r)+?)\2(\s+|$)/gm,(...t)=>t[1]+"<em>"+this.parseInlineCallback(t[3])+"</em>"+t[4]),t=t.replace(/(~{2})((?:.|\r)+?)\1/gm,(...t)=>"<del>"+this.parseInlineCallback(t[2])+"</del>"),t}parseBlock(e,s){var r,i,l,a,n,h,o,c,p,u,k,m,f;for(k=e.split("\n"),i=0,n=k.length;i<n;i++)o=k[i],s.push(o);for(this.blocks=[],this.current="normal",this.pos=-1,f={special:t(this.specialWhiteList).join("|"),empty:0,html:!1},l=a=0,h=s.length;a<h;l=++a)if(o=s[l],r=this.getBlock(),null!=r&&(r=r.slice(0)),"normal"===this.current||(u=this.parsers[this.current](r,l,o,f,s),u))for(c in m=this.parsers,m)if(p=m[c],c!==this.current&&(u=p(r,l,o,f,s),!u))break;return this.optimizeBlocks(this.blocks,s)}parseBlockList(t,e,s,r){var i,l,a,n;if(this.isBlock("list")&&!s.match(/^\s*\[((?:[^\]]|\\\]|\\\[)+?)\]:\s*(.+)$/)){if(s.match(/^(\s*)(~{3,}|`{3,})([^`~]*)$/i))return!0;if(r.empty<=1&&(i=s.match(/^(\s*)\S+/))&&i[1].length>=t[3][0]+r.empty)return r.empty=0,this.setBlock(e),!1;if(s.match(/^\s*$/)&&0===r.empty)return r.empty+=1,this.setBlock(e),!1}return!(i=s.match(/^(\s*)((?:[0-9]+\.)|\-|\+|\*)\s+/i))||(l=i[1].length,a=i[0].length-l,r.empty=0,n=0<="+-*".indexOf(i[2])?"ul":"ol",this.isBlock("list")?l<t[3][0]||l===t[3][0]&&n!==t[3][1]?this.startBlock("list",e,[l,n,a]):this.setBlock(e):this.startBlock("list",e,[l,n,a]),!1)}parseBlockCode(t,e,s,r){var i,l,a;if(l=s.match(/^(\s*)(~{3,}|`{3,})([^`~]*)$/i)){if(this.isBlock("code")){if(r.code!==l[2])return this.setBlock(e),!1;i=t[3][2],i?(r.empty=0,this.combineBlock().setBlock(e)):this.setBlock(e).endBlock()}else i=!1,this.isBlock("list")&&(a=t[3][0],i=l[1].length>=a+r.empty),r.code=l[2],this.startBlock("code",e,[l[1],l[3],i]);return!1}return!this.isBlock("code")||(this.setBlock(e),!1)}parseBlockShtml(t,e,s,r){return s.match(/^(\s*)!!!(\s*)$/)?(this.isBlock("shtml")?this.setBlock(e).endBlock():this.startBlock("shtml",e),!1):!this.isBlock("shtml")||(this.setBlock(e),!1)}parseBlockAhtml(t,e,s,r){var i,l,a,n,h;if(this.html)if(l=new RegExp(`^\\s*<(${this.blockHtmlTags})(\\s+[^>]*)?>`,"i"),h=s.match(l)){if(this.isBlock("ahtml"))return this.setBlock(e),!1;if(void 0===h[2]||"/"!==h[2]){for(this.startBlock("ahtml",e),i=new RegExp(`\\s*<(${this.blockHtmlTags})(\\s+[^>]*)?>`,"ig");n=i.exec(s),n;)a=n[1];return 0<=s.indexOf(`</${a}>`)?this.endBlock():r.html=a,!1}}else{if(r.html&&0<=s.indexOf(`</${r.html}>`))return this.setBlock(e).endBlock(),r.html=!1,!1;if(this.isBlock("ahtml"))return this.setBlock(e),!1;if(h=s.match(/^\s*<!\-\-(.*?)\-\->\s*$/))return this.startBlock("ahtml",e).endBlock(),!1}return!0}parseBlockMath(t,e,s){return s.match(/^(\s*)\$\$(\s*)$/)?(this.isBlock("math")?this.setBlock(e).endBlock():this.startBlock("math",e),!1):!this.isBlock("math")||(this.setBlock(e),!1)}parseBlockPre(t,e,s,r){return s.match(/^ {4}/)?(this.isBlock("pre")?this.setBlock(e):this.startBlock("pre",e),!1):!this.isBlock("pre")||!s.match(/^\s*$/)||(this.setBlock(e),!1)}parseBlockHtml(t,e,s,r){var i,l;return(i=s.match(new RegExp(`^\\s*<(${r.special})(\\s+[^>]*)?>`,"i")))?(l=i[1].toLowerCase(),this.isBlock("html",l)||this.isBlock("pre")||this.startBlock("html",e,l),!1):(i=s.match(new RegExp(`</(${r.special})>\\s*$`,"i")))?(l=i[1].toLowerCase(),this.isBlock("html",l)&&this.setBlock(e).endBlock(),!1):!this.isBlock("html")||(this.setBlock(e),!1)}parseBlockFootnote(t,e,s){var r,i;return!(r=s.match(/^\[\^((?:[^\]]|\\\]|\\\[)+?)\]:/))||(i=r[0].length-1,this.startBlock("footnote",e,[i,r[1]]),!1)}parseBlockDefinition(t,e,s){var r;return!(r=s.match(/^\s*\[((?:[^\]]|\\\]|\\\[)+?)\]:\s*(.+)$/))||(this.definitions[r[1]]=this.cleanUrl(r[2]),this.startBlock("definition",e).endBlock(),!1)}parseBlockQuote(t,e,s){var r;return!(r=s.match(/^(\s*)>/))||(this.isBlock("list")&&r[1].length>0?this.setBlock(e):this.isBlock("quote")?this.setBlock(e):this.startBlock("quote",e),!1)}parseBlockTable(t,e,s,r,i){var l,a,n,h,o,c,p,u;if(c=s.match(/^((?:(?:(?:\||\+)(?:[ :]*\-+[ :]*)(?:\||\+))|(?:(?:[ :]*\-+[ :]*)(?:\||\+)(?:[ :]*\-+[ :]*))|(?:(?:[ :]*\-+[ :]*)(?:\||\+))|(?:(?:\||\+)(?:[ :]*\-+[ :]*)))+)$/)){if(this.isBlock("table"))t[3][0].push(t[3][2]),t[3][2]+=1,this.setBlock(e,t[3]);else{for(n=0,null==t||"normal"!==t[0]||i[t[2]].match(/^\s*$/)?this.startBlock("table",e):(n=1,this.backBlock(1,"table")),"|"===c[1][0]&&(c[1]=c[1].substring(1),"|"===c[1][c[1].length-1]&&(c[1]=c[1].substring(0,c[1].length-1))),u=c[1].split(/\+|\|/),a=[],h=0,o=u.length;h<o;h++)p=u[h],l="none",(c=p.match(/^\s*(:?)\-+(:?)\s*$/))&&(c[1]&&c[2]?l="center":c[1]?l="left":c[2]&&(l="right")),a.push(l);this.setBlock(e,[[n],a,n+1])}return!1}return!0}parseBlockSh(t,e,s){var r,i;return!(r=s.match(/^(#+)(.*)$/))||(i=Math.min(r[1].length,6),this.startBlock("sh",e,i).endBlock(),!1)}parseBlockMh(t,e,s,r,i){var l;return!((l=s.match(/^\s*((=|-){2,})\s*$/))&&null!=t&&"normal"===t[0]&&!i[t[2]].match(/^\s*$/))||(this.isBlock("normal")?this.backBlock(1,"mh","="===l[1][0]?1:2).setBlock(e).endBlock():this.startBlock("normal",e),!1)}parseBlockShr(t,e,s){return!s.match(/^(\* *){3,}\s*$/)||(this.startBlock("hr",e).endBlock(),!1)}parseBlockDhr(t,e,s){return!s.match(/^(- *){3,}\s*$/)||(this.startBlock("hr",e).endBlock(),!1)}parseBlockDefault(t,e,s,r){var i;return this.isBlock("footnote")?(i=s.match(/^(\s*)/),i[1].length>=t[3][0]?this.setBlock(e):this.startBlock("normal",e)):this.isBlock("table")?0<=s.indexOf("|")?(t[3][2]+=1,this.setBlock(e,t[3])):this.startBlock("normal",e):this.isBlock("quote")?s.match(/^(\s*)$/)?this.startBlock("normal",e):this.setBlock(e):null==t||"normal"!==t[0]?this.startBlock("normal",e):this.setBlock(e),!0}optimizeBlocks(t,e){var s,r,i,l,a,n,h,o,c,p,u,k;for(r=t.slice(0),n=e.slice(0),r=this.call("beforeOptimizeBlocks",r,n),a=0;null!=r[a];)h=!1,s=r[a],c=null!=r[a-1]?r[a-1]:null,o=null!=r[a+1]?r[a+1]:null,[u,i,p]=s,"pre"===u&&(l=n.slice(s[1],s[2]+1).reduce(function(t,e){return e.match(/^\s*$/)&&t},!0),l&&(s[0]=u="normal")),"normal"===u&&(k=["list","quote"],i===p&&n[i].match(/^\s*$/)&&null!=c&&null!=o&&c[0]===o[0]&&k.indexOf(c[0])>=0&&("list"!==c[0]||c[3][0]===o[3][0]&&c[3][1]===o[3][1])&&(r[a-1]=[c[0],c[1],o[2],null!=c[3]?c[3]:null],r.splice(a,2),h=!0)),h||(a+=1);return this.call("afterOptimizeBlocks",r,n)}parseCode(t,e,r){var i,a,n,h,o,c;return[i,h]=e,h=l(h),a=i.length,h.match(/^[_a-z0-9-\+\#\:\.]+$/i)?(e=h.split(":"),e.length>1&&([h,o]=e,h=l(h),o=l(o))):h=null,n=!0,t=t.slice(1,-1).map(function(t){return t=t.replace(new RegExp(`^[ ]{${a}}`),""),n&&!t.match(/^\s*$/)&&(n=!1),s(t)}),c=this.markLines(t,r+1).join("\n"),n?"":`<pre class="language-${h||"none"}"><code>${c}</code></pre>`}parsePre(t,e,r){var i;return t=t.map(function(t){return s(t.substring(4))}),i=this.markLines(t,r).join("\n"),i.match(/^\s*$/)?"":"<pre><code>"+i+"</code></pre>"}parseAhtml(t,e,s){return l(this.markLines(t,s).join("\n"))}parseShtml(t,e,s){return l(this.markLines(t.slice(1,-1),s+1).join("\n"))}parseMath(t,e,r,i){return"<p>"+this.markLine(r,i)+s(t.join("\n"))+"</p>"}parseSh(t,e,s,r){var i;return i=this.markLine(s,r)+this.parseInline(l(t[0],"# ")),i.match(/^\s*$/)?"":`<h${e}>${i}</h${e}>`}parseMh(t,e,s,r){return this.parseSh(t,e,s,r)}parseQuote(t,e,s){var r;return t=t.map(function(t){return t.replace(/^\s*> ?/,"")}),r=t.join("\n"),r.match(/^\s*$/)?"":"<blockquote>"+this.parse(r,!0,s)+"</blockquote>"}parseList(t,e,s){var r,i,l,a,n,h,o,c,p,u,k,m,f,d,B,g;for(r="",[f,g,B]=e,m=[],d="",n=0,l=i=0,h=t.length;i<h;l=++i)c=t[l],(p=c.match(new RegExp(`^(\\s{${f}})((?:[0-9]+\\.?)|\\-|\\+|\\*)(\\s+)(.*)$`)))?("ol"===g&&0===l&&(u=parseInt(p[2]),1!==u&&(d=' start="'+u+'"')),m.push([p[4]]),n=m.length-1):m[n].push(c.replace(new RegExp(`^\\s{${B+f}}`),""));for(a=0,o=m.length;a<o;a++)k=m[a],r+="<li>"+this.parse(k.join("\n"),!0,s)+"</li>",s+=k.length;return`<${g}${d}>${r}</${g}>`}parseTable(t,e,s){var r,i,a,n,h,o,c,p,u,k,m,f,d,B,g,$,b,v,w,L;for([c,r]=e,h=c.length>0&&c.reduce(function(t,e){return e+t})>0,o="<table>",i=!h||null,$=!1,u=p=0,f=t.length;p<f;u=++p)if(B=t[u],0<=c.indexOf(u))h&&$&&(h=!1,i=!0);else{for(B=l(B),$=!0,"|"===B[0]&&(B=B.substring(1),"|"===B[B.length-1]&&(B=B.substring(0,B.length-1))),v=B.split("|").map(function(t){return t.match(/^\s*$/)?" ":l(t)}),n={},m=-1,k=0,d=v.length;k<d;k++)b=v[k],b.length>0?(m+=1,n[m]=[null!=n[m]?n[m][0]+1:1,b]):null!=n[m]?n[m][0]+=1:n[0]=[1,b];for(u in h?o+="<thead>":i&&(o+="<tbody>"),o+="<tr",this.line&&(o+=' class="line" data-start="'+(s+u)+'" data-end="'+(s+u)+'" data-id="'+this.uniqid+'"'),o+=">",n)a=n[u],[g,L]=a,w=h?"th":"td",o+=`<${w}`,g>1&&(o+=` colspan="${g}"`),null!=r[u]&&"none"!==r[u]&&(o+=` align="${r[u]}"`),o+=">"+this.parseInline(L)+`</${w}>`;o+="</tr>",h?o+="</thead>":i&&(i=!1)}return null!==i&&(o+="</tbody>"),o+"</table>"}parseHr(t,e,s){return this.line?'<hr class="line" data-start="'+s+'" data-end="'+s+'">':"<hr>"}parseNormal(t,e,s){var r,i;return r=0,t=t.map(t=>(t=this.parseInline(t),t.match(/^\s*$/)||(t=this.markLine(s+r)+t),r+=1,t)),i=l(t.join("\n")),i=i.replace(/(\n\s*){2,}/g,()=>(e=!1,"</p><p>")),i=i.replace(/\n/g,"<br>"),i.match(/^\s*$/)?"":e?i:`<p>${i}</p>`}parseFootnote(t,e){var s,r,i;return[i,r]=e,s=this.footnotes.indexOf(r),s>=0&&(t=t.slice(0),t[0]=t[0].replace(/^\[\^((?:[^\]]|\]|\[)+?)\]:/,""),this.footnotes[s]=t),""}parseDefinition(){return""}parseHtml(t,e,s){return t=t.map(t=>this.parseInline(t,null!=this.specialWhiteList[e]?this.specialWhiteList[e]:"")),this.markLines(t,s).join("\n")}cleanUrl(t,e=!1){var r,i,a;return a=null,t=l(t),e&&(i=t.indexOf(" "),i>=0&&(a=s(l(t.substring(i+1)," \"'")),t=t.substring(0,i))),t=t.replace(/["'<>\s]/g,""),(r=t.match(/^(mailto:)?[_a-z0-9-\.\+]+@[_\w-]+(?:\.[a-z]{2,})+$/i))&&null==r[1]&&(t="mailto:"+t),t.match(/^\w+:/i)&&!t.match(/^(https?|mailto):/i)?"#":e?[t,a]:t}escapeBracket(t){return i(["\\[","\\]","\\(","\\)"],["[","]","(",")"],t)}startBlock(t,e,s=null){return this.pos+=1,this.current=t,this.blocks.push([t,e,e,s]),this}endBlock(){return this.current="normal",this}isBlock(t,e=null){return this.current===t&&(null===e||this.blocks[this.pos][3]===e)}getBlock(){return null!=this.blocks[this.pos]?this.blocks[this.pos]:null}setBlock(t=null,e=null){return null!==t&&(this.blocks[this.pos][2]=t),null!==e&&(this.blocks[this.pos][3]=e),this}backBlock(t,e,s=null){var r,i;return this.pos<0?this.startBlock(e,0,s):(i=this.blocks[this.pos][2],this.blocks[this.pos][2]=i-t,r=[e,i-t+1,i,s],this.blocks[this.pos][1]<=this.blocks[this.pos][2]?(this.pos+=1,this.blocks.push(r)):this.blocks[this.pos]=r,this.current=e,this)}combineBlock(){var t,e;return this.pos<1?this:(e=this.blocks[this.pos-1].slice(0),t=this.blocks[this.pos].slice(0),e[2]=t[2],this.blocks[this.pos-1]=e,this.current=e[0],this.blocks=this.blocks.slice(0,-1),this.pos-=1,this)}}return a=function(t){return t.charAt(0).toUpperCase()+t.substring(1)},r=function(t){return t.replace(/[-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},i=function(t,e,s){var l,a,n,h,o,c;if(t instanceof Array)if(e instanceof Array)for(l=a=0,h=t.length;a<h;l=++a)c=t[l],s=i(c,e[l],s);else for(n=0,o=t.length;n<o;n++)c=t[n],s=i(c,e,s);else t=r(t),s=s.replace(new RegExp(t,"g"),e.replace(/\$/g,"$$$$"));return s},s=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},l=function(t,e=null){var s,i,l,a,n;if(null!=e){for(n="",i=l=0,a=e.length-1;0<=a?l<=a:l>=a;i=0<=a?++l:--l)s=e[i],s=r(s),n+=s;return n="["+n+"]*",t.replace(new RegExp("^"+n),"").replace(new RegExp(n+"$"),"")}return t.replace(/^\s*/,"").replace(/\s*$/,"")},t=function(t){var e,s,r,i;if(i=[],t instanceof Array)for(s=e=0,r=t.length;e<r;s=++e)t[s],i.push(s);else for(s in t)i.push(s);return i},e=function(t){var e,s,r,i,l;if(i=[],t instanceof Array)for(s=0,r=t.length;s<r;s++)l=t[s],i.push(l);else for(e in t)l=t[e],i.push(l);return i},n}.call(this),"undefined"!=typeof module&&null!==module?module.exports=t:"undefined"!=typeof window&&null!==window&&(window.HyperDown=t)}).call(this);